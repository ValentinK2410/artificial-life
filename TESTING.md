# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–≥—Ä—ã –Ω–∞ https://game.dekan.pro

## ‚úÖ –°—Ç–∞—Ç—É—Å: –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://game.dekan.pro` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12 –∏–ª–∏ Ctrl+Shift+I)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**
4. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –≤ —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–∏—Ç–µ **"–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"**

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É
```

–ò –≤ –ª–æ–≥–∞—Ö –∏–≥—Ä—ã –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É
```

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:

**"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É"** –∏–ª–∏ **"connect_error"**:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ ISPmanager:
   - **WWW ‚Üí Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí game.dekan.pro**
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **"–ó–∞–ø—É—â–µ–Ω–æ"**

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ ISPmanager

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx:
   ```bash
   tail -f /var/www/httpd-logs/game.dekan.pro.error.log
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Unix socket —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
   ```bash
   ls -la /var/www/www-root/data/nodejs/0.sock
   ```

## –®–∞–≥ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–≥—Ä—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

1. **–§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ —Å–∫—Ä—ã—Ç—å—Å—è**
2. **–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∏–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å canvas –∏ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª—å—é
3. **–ù–∞–∂–º–∏—Ç–µ "–°—Ç–∞—Ä—Ç"** - –∞–≥–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å –¥–≤–∏–≥–∞—Ç—å—Å—è
4. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã** —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É "–ú–∏—Ä"
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ–±—ã—Ç–∏—è –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤–æ –≤–∫–ª–∞–¥–∫–µ "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ"

## –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É –≤ **–¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö** (–∏–ª–∏ –≤–∫–ª–∞–¥–∫–∞—Ö –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)
2. –í–≤–µ–¥–∏—Ç–µ **—Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞** –≤ –∫–∞–∂–¥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –º–∏—Ä—É (–æ—Å—Ç–∞–≤—å—Ç–µ "default")
4. **–î–æ–±–∞–≤—å—Ç–µ —Ä–µ—Å—É—Ä—Å** –≤ –æ–¥–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**, —á—Ç–æ –æ–Ω –ø–æ—è–≤–∏–ª—Å—è –≤–æ –≤—Ç–æ—Ä–æ–º –±—Ä–∞—É–∑–µ—Ä–µ

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É **Network**:

1. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/socket.io/`
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å —Å —Ç–∏–ø–æ–º **"websocket"** –∏ —Å—Ç–∞—Ç—É—Å–æ–º **"101 Switching Protocols"**
3. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É 502 –∏–ª–∏ 404 - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ ISPmanager
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `/var/www/www-root/data/www/game.dekan.pro/backend`

### –ü—Ä–æ–±–ª–µ–º–∞: WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (–æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx - –±–ª–æ–∫ `/socket.io/` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ü–ï–†–ï–î `location /`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ `Upgrade` –∏ `Connection`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–≥—Ä–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ JavaScript –æ—à–∏–±–æ–∫
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Network)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `index.html` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ JS —Ñ–∞–π–ª—ã

## –ì–æ—Ç–æ–≤–æ! üéâ

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–≥—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
