<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –ñ–∏–∑–Ω—å - –°–∏–º—É–ª—è—Ü–∏—è</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h2>–í—Ö–æ–¥ –≤ –∏–≥—Ä—É</h2>
            <div class="login-form">
                <label for="playerNameInput">–í–∞—à–µ –∏–º—è:</label>
                <input type="text" id="playerNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20">
                <label for="worldIdInput">ID –º–∏—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                <input type="text" id="worldIdInput" placeholder="default" value="default">
                
                <!-- –í—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤ -->
                <div id="agentSelection" style="margin: 15px 0; padding: 15px; background-color: rgba(74, 158, 255, 0.1); border: 1px solid #4a9eff; border-radius: 5px;">
                    <div style="color: #4a9eff; font-weight: bold; margin-bottom: 10px;">üë• –í—ã–±–µ—Ä–∏—Ç–µ –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã:</div>
                    <div id="agentCheckboxes" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer;">
                            <input type="checkbox" class="agent-checkbox" value="man" checked>
                            <span>üë® –ú—É–∂—á–∏–Ω–∞ (35 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer;">
                            <input type="checkbox" class="agent-checkbox" value="woman" checked>
                            <span>üë© –ñ–µ–Ω—â–∏–Ω–∞ (32 –≥–æ–¥–∞)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer;">
                            <input type="checkbox" class="agent-checkbox" value="boy" checked>
                            <span>üë¶ –ü–∞—Ä–µ–Ω—å (18 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer;">
                            <input type="checkbox" class="agent-checkbox" value="girl" checked>
                            <span>üëß –î–µ–≤—É—à–∫–∞ (17 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer;">
                            <input type="checkbox" class="agent-checkbox" value="oldman" checked>
                            <span>üë¥ –°—Ç–∞—Ä–∏–∫ (68 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer;">
                            <input type="checkbox" class="agent-checkbox" value="oldwoman" checked>
                            <span>üëµ –°—Ç–∞—Ä—É—Ö–∞ (65 –ª–µ—Ç)</span>
                        </label>
                    </div>
                    <div id="agentSelectionError" style="color: #ff6b6b; font-size: 12px; margin-top: 5px; display: none;">
                        –í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
                    </div>
                </div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ -->
                <div id="saveInfo" style="display: none; margin: 15px 0; padding: 15px; background-color: rgba(74, 158, 255, 0.1); border: 1px solid #4a9eff; border-radius: 5px;">
                    <div style="color: #4a9eff; font-weight: bold; margin-bottom: 10px;">üíæ –ù–∞–π–¥–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:</div>
                    <div id="saveInfoText" style="color: #b0b0b0; font-size: 14px; margin-bottom: 10px;"></div>
                    <div style="display: flex; gap: 10px;">
                        <button id="continueBtn" class="control-btn" style="flex: 1; background-color: #4a9eff;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                        <button id="newGameBtn" class="control-btn" style="flex: 1; background-color: #ff6b6b;">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                    </div>
                </div>
                
                <button id="connectBtn" class="control-btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #3a3a3a;">
                    <label for="adminPasswordInput">–ê–¥–º–∏–Ω-–ø–∞—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <input type="password" id="adminPasswordInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
                </div>
            </div>
            <div id="connectionStatus" class="connection-status"></div>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <div class="admin-panel-header">
            <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
            <button class="close-btn" onclick="window.hideAdminPanel()">√ó</button>
        </div>
        <div class="admin-panel-content">
            <div id="adminPlayerList"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ -->
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–µ–ª–∏ –∏ –æ—Ä—É–∂–∏—è -->
    <div id="shootTargetModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <h2>üî´ –í—ã–±–æ—Ä —Ü–µ–ª–∏ –∏ –æ—Ä—É–∂–∏—è</h2>
            <p style="color: #b0b0b0; font-size: 12px; margin-bottom: 15px;">
                –í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å –¥–ª—è —Å—Ç—Ä–µ–ª—å–±—ã –∏ –æ—Ä—É–∂–∏–µ. –†—É–∂—å–µ –∏–º–µ–µ—Ç –¥–∞–ª—å–Ω–æ—Å—Ç—å 200px, –ª—É–∫ - 150px.
            </p>
            <div id="shootTargetsList" style="margin: 20px 0;">
                <h3 style="color: #4a9eff; font-size: 14px; margin-bottom: 10px;">üéØ –í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å:</h3>
                <div id="targetsContainer"></div>
            </div>
            <div id="weaponsList" style="margin: 20px 0;">
                <h3 style="color: #4a9eff; font-size: 14px; margin-bottom: 10px;">‚öîÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –æ—Ä—É–∂–∏–µ:</h3>
                <div id="weaponsContainer"></div>
            </div>
            <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                <button id="confirmShootBtn" class="control-btn" style="background-color: #e74c3c;">üî´ –°—Ç—Ä–µ–ª—è—Ç—å</button>
                <button id="cancelShootBtn" class="control-btn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="addAgentModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∞–≥–µ–Ω—Ç–∞</h2>
            <div class="login-form">
                <div style="margin-bottom: 15px;">
                    <label style="color: #b0b0b0; font-size: 14px; margin-bottom: 10px; display: block;">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–≥–µ–Ω—Ç–∞:</label>
                    <div id="agentTypeSelection" style="display: grid; grid-template-columns: 1fr; gap: 8px;">
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 8px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                            <input type="radio" name="agentType" value="man" checked>
                            <span>üë® –ú—É–∂—á–∏–Ω–∞ (35 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 8px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                            <input type="radio" name="agentType" value="woman">
                            <span>üë© –ñ–µ–Ω—â–∏–Ω–∞ (32 –≥–æ–¥–∞)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 8px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                            <input type="radio" name="agentType" value="boy">
                            <span>üë¶ –ü–∞—Ä–µ–Ω—å (18 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 8px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                            <input type="radio" name="agentType" value="girl">
                            <span>üëß –î–µ–≤—É—à–∫–∞ (17 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 8px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                            <input type="radio" name="agentType" value="oldman">
                            <span>üë¥ –°—Ç–∞—Ä–∏–∫ (68 –ª–µ—Ç)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 8px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                            <input type="radio" name="agentType" value="oldwoman">
                            <span>üëµ –°—Ç–∞—Ä—É—Ö–∞ (65 –ª–µ—Ç)</span>
                        </label>
                    </div>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button id="confirmAddAgentBtn" class="control-btn" style="flex: 1; background-color: #4a9eff;">–î–æ–±–∞–≤–∏—Ç—å</button>
                    <button id="cancelAddAgentBtn" class="control-btn" style="flex: 1; background-color: #666;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <div class="main-container" id="mainContainer" style="display: none;">
        <!-- –í–µ—Ä—Å–∏—è –∏–≥—Ä—ã -->
        <div id="gameVersion" class="game-version"
            style="position: fixed; top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.7); color: #4a9eff; padding: 5px 10px; border-radius: 5px; font-size: 12px; z-index: 1000; font-family: 'Courier New', monospace;">
            –í–µ—Ä—Å–∏—è: <span id="versionNumber">–∑–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
        
        <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–≥—Ä—ã -->
        <div id="gameTimeDisplay" 
            style="position: fixed; top: 10px; left: 10px; background-color: rgba(0, 0, 0, 0.8); color: #4a9eff; padding: 8px 15px; border-radius: 5px; font-size: 13px; z-index: 1000; font-family: 'Courier New', monospace; border: 1px solid rgba(74, 158, 255, 0.3); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);">
            –î–µ–Ω—å 1 | –ù–µ–¥. 1 | –ú–µ—Å. 1 | –ì–æ–¥ 1 | –î–µ–Ω—å
        </div>

        <!-- –õ–µ–≤–∞—è –æ–±–ª–∞—Å—Ç—å - Canvas –¥–ª—è –∫–∞—Ä—Ç—ã -->
        <div class="canvas-area">
            <canvas id="worldCanvas"></canvas>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –æ–±–ª–∞—Å—Ç—å - –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="sidebar">
            <!-- –í–∫–ª–∞–¥–∫–∏ -->
            <div class="tabs">
                <button class="tab-button" data-tab="simulation">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button class="tab-button active" data-tab="agents">–ê–≥–µ–Ω—Ç—ã</button>
                <button class="tab-button" data-tab="world">–ú–∏—Ä</button>
                <button class="tab-button" data-tab="logging">–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                <button class="tab-button" id="adminTabBtn" data-tab="admin" style="display: none;">–ê–¥–º–∏–Ω</button>
            </div>

            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ -->
            <div class="tab-content">
                <!-- –í–∫–ª–∞–¥–∫–∞ "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" -->
                <div id="simulation-tab" class="tab-panel">
                    <h3>–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div style="padding: 15px;">
                        <h4 style="color: #4a9eff; margin-bottom: 15px; font-size: 14px;">üé® –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</h4>
                        <label style="display: flex; align-items: center; gap: 10px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 10px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px; margin-bottom: 10px;">
                            <input type="checkbox" id="showDirectionCheckbox" style="width: 18px; height: 18px; cursor: pointer;">
                            <span>üìç –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 10px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px; margin-bottom: 10px;">
                            <input type="checkbox" id="showGridCheckbox" style="width: 18px; height: 18px; cursor: pointer;">
                            <span>üìê –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ—Ç–∫—É –∏ –ª–∏–Ω–µ–π–∫—É (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 10px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px; margin-bottom: 10px;">
                            <input type="checkbox" id="showHealthBarsCheckbox" checked style="width: 18px; height: 18px; cursor: pointer;">
                            <span>‚ù§Ô∏è –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–æ—Å–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; color: #b0b0b0; font-size: 14px; cursor: pointer; padding: 10px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px; margin-bottom: 10px;">
                            <input type="checkbox" id="showAgentNamesCheckbox" checked style="width: 18px; height: 18px; cursor: pointer;">
                            <span>üìõ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–º–µ–Ω–∞ –∞–≥–µ–Ω—Ç–æ–≤</span>
                        </label>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ "–ê–≥–µ–Ω—Ç—ã" -->
                <div id="agents-tab" class="tab-panel active">
                    <h3>–ê–≥–µ–Ω—Ç—ã</h3>

                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π -->
                    <div style="margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #3a3a3a;">
                        <h4 style="color: #4a9eff; margin-bottom: 10px; font-size: 14px;">üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π:</h4>
                        <div class="control-buttons" style="display: flex; gap: 10px; margin-bottom: 15px;">
                            <button id="startBtn" class="control-btn" style="flex: 1;">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç</button>
                            <button id="pauseBtn" class="control-btn" style="flex: 1;">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                            <button id="resetBtn" class="control-btn" style="flex: 1;">üîÑ –°–±—Ä–æ—Å</button>
                        </div>
                        <div style="margin-top: 10px;">
                            <button id="saveBtn" class="control-btn" style="width: 100%;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É</button>
                        </div>
                        <div style="margin-top: 10px;">
                            <button id="createSnapshotBtn" class="control-btn" style="width: 100%; background-color: #9b59b6;">üì∏ –°–æ–∑–¥–∞—Ç—å —Å–ª–µ–ø–æ–∫</button>
                            <button id="loadSnapshotBtn" class="control-btn" style="width: 100%; background-color: #3498db; margin-top: 5px;">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–µ–ø–æ–∫</button>
                        </div>
                        <div class="slider-container">
                            <label for="speedSlider" style="color: #b0b0b0; font-size: 14px;">–°–∫–æ—Ä–æ—Å—Ç—å
                                —Å–∏–º—É–ª—è—Ü–∏–∏:</label>
                            <input type="range" id="speedSlider" min="1" max="300" value="300" class="slider">
                            <span id="speedValue" style="color: #4a9eff; font-weight: bold;">300</span>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <button id="addAgentBtn" class="control-btn" style="width: 100%; background-color: #4a9eff;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–≥–µ–Ω—Ç–∞</button>
                    </div>
                    
                    <div class="agents-compact-list" id="agentsListContainer">
                        <!-- –ê–≥–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ "–ú–∏—Ä" -->
                <div id="world-tab" class="tab-panel">
                    <h3>–ú–∏—Ä</h3>
                    <div class="world-stats">
                        <div class="stat-item">
                            <label>–î–µ–Ω—å:</label>
                            <span id="dayValue">1</span>
                        </div>
                        <div class="stat-item">
                            <label>–í—Ä–µ–º—è —Å—É—Ç–æ–∫:</label>
                            <span id="timeOfDayValue">–î–µ–Ω—å</span>
                        </div>
                        <div class="stat-item">
                            <label>–ü–æ–≥–æ–¥–∞:</label>
                            <select id="weatherSelect">
                                <option value="sunny">–°–æ–ª–Ω–µ—á–Ω–æ</option>
                                <option value="rain">–î–æ–∂–¥—å</option>
                                <option value="night">–ù–æ—á—å</option>
                            </select>
                        </div>
                    </div>
                    <div class="resource-buttons">
                        <h4>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</h4>
                        <button id="addSawBtn" class="resource-btn">–ü–∏–ª–∞</button>
                        <button id="addAxeBtn" class="resource-btn">–¢–æ–ø–æ—Ä</button>
                        <button id="addHammerBtn" class="resource-btn">–ú–æ–ª–æ—Ç–æ–∫</button>
                        <button id="addPickaxeBtn" class="resource-btn">–ö–∏—Ä–∫–∞</button>
                        <button id="addShovelBtn" class="resource-btn">–õ–æ–ø–∞—Ç–∞</button>
                        <button id="addFishingRodBtn" class="resource-btn">–£–¥–æ—á–∫–∞</button>
                        <button id="addFirstAidKitBtn" class="resource-btn">–ê–ø—Ç–µ—á–∫–∞</button>
                        <button id="addCookwareBtn" class="resource-btn">–ü–æ—Å—É–¥–∞ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏</button>
                        <h4>–û—Ä—É–∂–∏–µ:</h4>
                        <button id="addGunBtn" class="resource-btn">–†—É–∂—å–µ</button>
                        <button id="addAmmoBtn" class="resource-btn">–ü–∞—Ç—Ä–æ–Ω—ã</button>
                        <button id="addBowBtn" class="resource-btn">–õ—É–∫</button>
                        <button id="addArrowsBtn" class="resource-btn">–°—Ç—Ä–µ–ª—ã</button>
                    </div>
                    <div class="resource-buttons">
                        <h4>–û–¥–µ–∂–¥–∞:</h4>
                        <button id="addSummerClothesManBtn" class="resource-btn">–û–¥–µ–∂–¥–∞ –º—É–∂—Å–∫–∞—è –ª–µ—Ç–Ω—è—è</button>
                        <button id="addSummerClothesWomanBtn" class="resource-btn">–û–¥–µ–∂–¥–∞ –∂–µ–Ω—Å–∫–∞—è –ª–µ—Ç–Ω—è—è</button>
                        <button id="addWinterClothesManBtn" class="resource-btn">–û–¥–µ–∂–¥–∞ –º—É–∂—Å–∫–∞—è –∑–∏–º–Ω—è—è</button>
                        <button id="addWinterClothesWomanBtn" class="resource-btn">–û–¥–µ–∂–¥–∞ –∂–µ–Ω—Å–∫–∞—è –∑–∏–º–Ω—è—è</button>
                    </div>
                    <div class="resource-buttons">
                        <h4>–†–µ—Å—É—Ä—Å—ã:</h4>
                        <div style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                            <label for="resourceAmount" style="color: #b0b0b0; font-size: 14px;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                            <input type="number" id="resourceAmount" min="1" max="100" value="1"
                                style="background-color: #2a2a2a; color: #e0e0e0; border: 1px solid #3a3a3a; padding: 5px 10px; border-radius: 5px; font-size: 14px; width: 80px;">
                        </div>
                        <button id="addBerriesBtn" class="resource-btn">–Ø–≥–æ–¥—ã</button>
                        <button id="addWoodBtn" class="resource-btn">–î—Ä–æ–≤–∞</button>
                        <button id="addMoneyBtn" class="resource-btn">–î–µ–Ω—å–≥–∏</button>
                        <button id="addCookedFoodBtn" class="resource-btn">–ì–æ—Ç–æ–≤–∞—è –µ–¥–∞</button>
                        <button id="addMeatBtn" class="resource-btn">–ú—è—Å–æ</button>
                        <button id="addBirdBtn" class="resource-btn">–ü—Ç–∏—Ü–∞</button>
                        <button id="addFishBtn" class="resource-btn">–†—ã–±–∞</button>
                        <button id="addHoneyBtn" class="resource-btn">–ú—ë–¥</button>
                        <button id="addMilkBtn" class="resource-btn">–ú–æ–ª–æ–∫–æ</button>
                        <button id="addWaterBtn" class="resource-btn">–í–æ–¥–∞</button>
                        <button id="addBreadBtn" class="resource-btn">–•–ª–µ–±</button>
                        <button id="addKebabBtn" class="resource-btn">–®–∞—à–ª—ã–∫</button>
                        <button id="addPotatoBtn" class="resource-btn">–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å</button>
                        <button id="addSaladBtn" class="resource-btn">–°–∞–ª–∞—Ç</button>
                        <button id="addMushroomsBtn" class="resource-btn">–ì—Ä–∏–±—ã</button>
                        <button id="addTeaBtn" class="resource-btn">–ß–∞–π</button>
                        <button id="addBananaBtn" class="resource-btn">–ë–∞–Ω–∞–Ω</button>
                        <button id="addOrangeBtn" class="resource-btn">–ê–ø–µ–ª—å—Å–∏–Ω</button>
                        <button id="addAppleBtn" class="resource-btn">–Ø–±–ª–æ–∫–æ</button>
                        <button id="addLemonBtn" class="resource-btn">–õ–∏–º–æ–Ω</button>
                        <button id="addRosehipBtn" class="resource-btn">–®–∏–ø–æ–≤–Ω–∏–∫</button>
                        <button id="addCabbageBtn" class="resource-btn">–ö–∞–ø—É—Å—Ç–∞</button>
                        <button id="addSpicesBtn" class="resource-btn">–°–ø–µ—Ü–∏–∏</button>
                        <button id="addMintBtn" class="resource-btn">–ú—è—Ç–∞</button>
                        <button id="addStJohnsWortBtn" class="resource-btn">–ó–≤–µ—Ä–æ–±–æ–π</button>
                    </div>
                    <div class="resource-buttons">
                        <h4>–ñ–∏–≤–æ—Ç–Ω—ã–µ:</h4>
                        <button id="addCowBtn" class="resource-btn">–ö–æ—Ä–æ–≤–∞</button>
                        <button id="addGoatBtn" class="resource-btn">–ö–æ–∑–∞</button>
                        <button id="addSheepBtn" class="resource-btn">–û–≤—Ü–∞</button>
                        <button id="addRoosterBtn" class="resource-btn">–ü–µ—Ç—É—Ö</button>
                        <button id="addChickenBtn" class="resource-btn">–ö—É—Ä–∏—Ü–∞</button>
                        <button id="addCatBtn" class="resource-btn">–ö–æ—à–∫–∞</button>
                        <button id="addBullBtn" class="resource-btn">–ë—ã–∫</button>
                    </div>
                    <div class="resource-buttons">
                        <h4>–•–∏—â–Ω–∏–∫–∏:</h4>
                        <button id="addWolfBtn" class="resource-btn">–í–æ–ª–∫</button>
                        <button id="addBearBtn" class="resource-btn">–ú–µ–¥–≤–µ–¥—å</button>
                        <button id="addFoxBtn" class="resource-btn">–õ–∏—Å–∞</button>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ" -->
                <div id="logging-tab" class="tab-panel">
                    <h3>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                    <div id="log" class="log-container">
                        <!-- –°–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–µ–ø–∫–∞–º–∏ -->
    <div id="snapshotsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeSnapshotsModal()">&times;</span>
            <h2 style="color: #4a9eff; margin-bottom: 20px;">üì∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–ø–∫–∞–º–∏</h2>
            
            <!-- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–ª–µ–ø–∫–∞ -->
            <div style="margin-bottom: 30px; padding: 15px; background-color: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                <h3 style="color: #4a9eff; margin-bottom: 10px; font-size: 16px;">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–ª–µ–ø–æ–∫</h3>
                <input type="text" id="snapshotNameInput" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–µ–ø–∫–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" 
                       style="width: 100%; padding: 10px; margin-bottom: 10px; background-color: #2a2a2a; border: 1px solid #3a3a3a; border-radius: 5px; color: #fff; font-size: 14px;">
                <button id="createSnapshotConfirmBtn" class="control-btn" style="width: 100%; background-color: #9b59b6;">
                    üì∏ –°–æ–∑–¥–∞—Ç—å —Å–ª–µ–ø–æ–∫
                </button>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–ª–µ–ø–∫–æ–≤ -->
            <div>
                <h3 style="color: #4a9eff; margin-bottom: 15px; font-size: 16px;">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–ª–µ–ø–∫–∏</h3>
                <div id="snapshotsList" style="max-height: 400px; overflow-y: auto;">
                    <!-- –°–ª–µ–ø–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Socket.io –∫–ª–∏–µ–Ω—Ç -->
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>

    <!-- –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏) -->
    <script type="module">
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –¥–µ–ª–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ
        import { GAME_CONFIG, FOOD_PROPERTIES, FOOD_CATEGORIES } from './src/config/constants.js';
        window.GAME_CONFIG = GAME_CONFIG;
        window.FOOD_PROPERTIES = FOOD_PROPERTIES;
        window.FOOD_CATEGORIES = FOOD_CATEGORIES;

        console.log('–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞:', {
            GAME_CONFIG: !!GAME_CONFIG,
            FOOD_PROPERTIES: !!FOOD_PROPERTIES,
            FOOD_CATEGORIES: !!FOOD_CATEGORIES
        });
    </script>
    <script type="module">
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–µ—Ä—Å–∏—é –∏–≥—Ä—ã
        import { GAME_VERSION } from './version.js';
        document.getElementById('versionNumber').textContent = GAME_VERSION;
        window.GAME_VERSION = GAME_VERSION; // –î–µ–ª–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ
    </script>
    <script src="network.js"></script>
    <script src="world.js"></script>
    <script src="agents.js"></script>
    <script src="main.js"></script>
    <script type="module">
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –¥–µ–ª–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –≥–ª–æ–±–∞–ª—å–Ω–æ
        import * as saveGameModule from './saveGame.js';
        window.saveGameModule = saveGameModule;
    </script>

    <!-- –ù–æ–≤—ã–µ –º–æ–¥—É–ª–∏ (–±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏) -->
    <!--
    <script type="module" src="src/main.js"></script>
    -->
</body>

</html>